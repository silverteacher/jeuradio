<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Radios Fran√ßaises - Cartes R√©v√©latrices</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700&display=swap');
    body {
      font-family: 'Inter', Arial, sans-serif;
      background: linear-gradient(-45deg, #ffe7ba 0%, #b5ead7 50%, #c7ceea 100%);
      min-height: 100vh;
      margin: 0;
      padding: 2rem 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #5f27cd;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #fff8;
    }
    #scoreboard {
      color: #222;
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 2rem;
      background: #fff3;
      padding: 0.5em 1.5em;
      border-radius: 1em;
      box-shadow: 0 2px 8px #fff7;
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap: 2rem;
      width: 95vw;
      max-width: 1100px;
      margin-bottom: 2rem;
    }
    .card {
      background: linear-gradient(135deg, #f9f7f7 60%, #b5ead7 100%);
      border-radius: 1.2em;
      box-shadow: 0 2px 16px #b5ead7cc;
      padding: 2em 1.2em 1.5em 1.2em;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.2s;
      position: relative;
      min-height: 340px;
    }
    .card h2 {
      color: #5f27cd;
      font-size: 1.3em;
      margin: 0 0 0.6em 0;
      text-align: center;
    }
    .card .question {
      color: #222;
      font-size: 1.05em;
      text-align: center;
      margin-bottom: 1.2em;
    }
    .card .hint-list {
      margin: 0.7em 0 0.5em 0;
      padding: 0;
      list-style: none;
    }
    .card .hint {
      background: #b5ead7aa;
      color: #222;
      border-radius: 0.6em;
      padding: 0.3em 0.7em;
      margin-bottom: 0.4em;
      font-size: 0.98em;
      box-shadow: 0 1px 4px #b5ead7aa;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .card .reveal-btn {
      margin-top: 1.2em;
      padding: 0.7em 1.7em;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      border-radius: 1.2em;
      color: #fff;
      background: linear-gradient(90deg, #5f27cd 40%, #43c6ac 100%);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 10px #43c6ac55;
      outline: none;
    }
    .card .reveal-btn:before {
      content: "";
      position: absolute;
      left: -60%;
      top: 0;
      height: 100%;
      width: 60%;
      background: linear-gradient(120deg, transparent, #fff8 60%, transparent 100%);
      transform: skewX(-20deg);
      animation: shimmer 2s infinite;
    }
    @keyframes shimmer {
      0% { left: -60%; }
      100% { left: 120%; }
    }
    .card .reveal-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .card .station-shimmer {
      font-size: 2em;
      font-weight: 900;
      margin: 1em 0 0.2em 0;
      background: linear-gradient(90deg, #5f27cd 20%, #43c6ac 50%, #b5ead7 80%);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmerText 1.2s linear infinite;
      display: none;
    }
    @keyframes shimmerText {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    .card .station-name {
      font-size: 2em;
      font-weight: 900;
      color: #43c6ac;
      margin: 1em 0 0.2em 0;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.7s, transform 0.7s;
      letter-spacing: 1px;
    }
    .card .station-name.revealed {
      opacity: 1;
      transform: translateY(0);
    }
    .card .points {
      font-weight: bold;
      color: #5f27cd;
      margin-top: 0.7em;
      min-height: 1.2em;
    }
    .card .hint-btn {
      background: #f7b731;
      color: #fff;
      border: none;
      border-radius: 1em;
      padding: 0.5em 1.2em;
      margin-top: 0.5em;
      font-weight: bold;
      cursor: pointer;
      font-size: 1em;
      box-shadow: 0 1px 6px #f7b73155;
      transition: background 0.2s;
    }
    .card .hint-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    #final-results {
      background: #fff;
      border-radius: 1.2em;
      padding: 2em 2em 1em 2em;
      box-shadow: 0 2px 16px #b5ead7cc;
      color: #5f27cd;
      font-size: 1.3em;
      text-align: center;
      max-width: 450px;
      margin: 0 auto 2em auto;
      display: none;
    }
    #final-results.show { display: block; }
    #restart-btn {
      margin-top: 1em;
      background: #43c6ac;
      color: #fff;
      border: none;
      border-radius: 1em;
      padding: 0.7em 1.5em;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 1px 6px #43c6ac55;
    }
    @media (max-width: 600px) {
      .cards { grid-template-columns: 1fr; }
      .card { min-height: 350px; }
    }
  </style>
</head>
<body>
  <h1>Quiz Radios Fran√ßaises</h1>
  <div id="scoreboard">Score : <span id="score">0</span> / <span id="max-score">18</span></div>
  <div class="cards" id="cards"></div>
  <div id="final-results">
    <div id="final-message"></div>
    <button id="restart-btn">üîÑ Rejouer</button>
  </div>
  <!-- Un jingle "positive" court, non cartoon -->
  <audio id="success-sound" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfae5df.mp3" preload="auto"></audio>
  <script>
    // Questions
    const stations = [
      {
        name: "NRJ",
        question: "Cette radio fran√ßaise cr√©√©e en 1981 a pour slogan 'Hit Music Only!' et diffuse principalement des hits actuels.",
        hints: [
          "üéµ Son nom est compos√© de 3 lettres qui sont des initiales",
          "üî• Elle organise les NRJ Music Awards chaque ann√©e",
          "üìª Son logo est rouge avec des lettres blanches"
        ]
      },
      {
        name: "RTL",
        question: "Cette radio g√©n√©raliste fran√ßaise, l'une des plus anciennes, diffuse 'Les Grosses T√™tes' et a son si√®ge au Luxembourg.",
        hints: [
          "üì∫ Elle a aussi une cha√Æne de t√©l√©vision du m√™me nom",
          "üé≠ Laurent Ruquier y anime une √©mission culte",
          "üè∞ Son nom fait r√©f√©rence √† un pays europ√©en"
        ]
      },
      {
        name: "Europe 1",
        question: "Cette radio p√©riph√©rique fran√ßaise diffuse des √©missions d'information et de divertissement, avec un logo vert distinctif.",
        hints: [
          "üåç Son nom √©voque un continent",
          "üü¢ Son logo est de couleur verte",
          "üì∞ Elle est r√©put√©e pour ses √©missions d'information"
        ]
      },
      {
        name: "France Inter",
        question: "Cette radio publique fran√ßaise du groupe Radio France diffuse 'Par Jupiter!' et est connue pour ses programmes culturels vari√©s.",
        hints: [
          "üéôÔ∏è Elle fait partie du service public",
          "üìª Son logo est rouge et blanc",
          "üéß Elle propose beaucoup de podcasts"
        ]
      },
      {
        name: "Fun Radio",
        question: "Cette station fran√ßaise est connue pour ses musiques dance et √©lectro et ses soir√©es anim√©es.",
        hints: [
          "üéß Son nom √©voque le plaisir et la f√™te",
          "üîä Elle diffuse souvent des hits dance",
          "üéâ Elle organise des √©v√©nements festifs"
        ]
      },
      {
        name: "France Bleu",
        question: "Cette station fait partie du r√©seau Radio France et couvre les actualit√©s locales et r√©gionales.",
        hints: [
          "üåç Elle est locale et r√©gionale",
          "üîµ Son logo est bleu",
          "üì∞ Elle diffuse beaucoup d'informations locales"
        ]
      }
    ];
    const maxPointsPerQuestion = 3;
    const maxScore = stations.length * maxPointsPerQuestion;

    // Elements
    const cardsDiv = document.getElementById('cards');
    const scoreEl = document.getElementById('score');
    const maxScoreEl = document.getElementById('max-score');
    const finalResults = document.getElementById('final-results');
    const finalMessage = document.getElementById('final-message');
    const restartBtn = document.getElementById('restart-btn');
    const successSound = document.getElementById('success-sound');

    let score = 0;
    let revealedCount = 0;
    maxScoreEl.textContent = maxScore;

    function createCard(station, idx) {
      const card = document.createElement('div');
      card.className = "card";
      card.innerHTML = `
        <h2>Question ${idx+1}</h2>
        <div class="question">${station.question}</div>
        <ul class="hint-list"></ul>
        <button class="hint-btn">üí° Indice</button>
        <div class="station-shimmer">R√âV√âLATION...</div>
        <div class="station-name"></div>
        <div class="points"></div>
        <button class="reveal-btn">‚ú® R√©v√©ler la station</button>
      `;
      const hintBtn = card.querySelector('.hint-btn');
      const hintList = card.querySelector('.hint-list');
      const revealBtn = card.querySelector('.reveal-btn');
      const shimmer = card.querySelector('.station-shimmer');
      const stationName = card.querySelector('.station-name');
      const pointsDiv = card.querySelector('.points');
      let hintsUsed = 0;
      let revealed = false;

      hintBtn.onclick = () => {
        if (hintsUsed < station.hints.length) {
          const hint = document.createElement('li');
          hint.className = "hint";
          hint.textContent = station.hints[hintsUsed];
          hintList.appendChild(hint);
          hintsUsed++;
          if (hintsUsed === station.hints.length) hintBtn.disabled = true;
        }
      };

      revealBtn.onclick = () => {
        if (revealed) return;
        revealed = true;
        revealBtn.disabled = true;
        hintBtn.disabled = true;
        shimmer.style.display = 'block';
        setTimeout(() => {
          shimmer.style.display = 'none';
          stationName.textContent = station.name;
          stationName.classList.add('revealed');
          // Calcul des points
          let pts = Math.max(maxPointsPerQuestion - hintsUsed, 0);
          pointsDiv.textContent = `Points gagn√©s : ${pts}`;
          score += pts;
          revealedCount++;
          scoreEl.textContent = score;
          // Son
          successSound.currentTime = 0;
          successSound.play();
          // Si tout r√©v√©l√©, afficher le r√©sultat
          if (revealedCount === stations.length) showFinal();
        }, 1200);
      };
      return card;
    }

    function showFinal() {
      let ratio = score / maxScore;
      let level, msg;
      if (ratio >= 0.75) {
        level = "Expert";
        msg = "üéâ Excellent travail ! Vous connaissez tr√®s bien les radios fran√ßaises.";
      } else if (ratio >= 0.5) {
        level = "Interm√©diaire";
        msg = "üëè Bon travail ! Vous avez une bonne connaissance des radios fran√ßaises.";
      } else if (ratio >= 0.25) {
        level = "D√©butant";
        msg = "üôÇ Pas mal ! Un peu plus d'√©coute et vous serez expert.";
      } else {
        level = "D√©butant";
        msg = "üòÖ Il faut r√©√©couter les radios fran√ßaises pour progresser !";
      }
      finalMessage.innerHTML = `<strong>Score final : ${score} / ${maxScore}</strong><br>Niveau atteint : <strong>${level}</strong><br><br>${msg}`;
      finalResults.classList.add('show');
    }

    restartBtn.onclick = () => {
      // Reset
      score = 0;
      revealedCount = 0;
      scoreEl.textContent = score;
      finalResults.classList.remove('show');
      cardsDiv.innerHTML = '';
      stations.forEach((station, idx) => {
        cardsDiv.appendChild(createCard(station, idx));
      });
      window.scrollTo({top:0});
    };

    // Initialisation
    stations.forEach((station, idx) => {
      cardsDiv.appendChild(createCard(station, idx));
    });
  </script>
</body>
</html>
